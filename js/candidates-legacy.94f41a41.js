"use strict";(self["webpackChunkelectathon19_app"]=self["webpackChunkelectathon19_app"]||[]).push([[26],{7592:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Candidates")]),n("b-card",[n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Select election type:","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",options:t.options,required:"",placeholder:"Select type"},on:{change:t.getCandidates},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{id:"input-group-2",label:"Select entity:","label-for":"input-2"}},[n("b-form-select",{attrs:{id:"input-1",options:t.entitiesOptions,required:"",placeholder:"Select entity",disabled:0===t.entitiesOptions.length},model:{value:t.selectedEntity,callback:function(e){t.selectedEntity=e},expression:"selectedEntity"}})],1)],1)],1),n("b-row",{staticClass:"mt-2"},[n("b-col",[t.filteredCandidates.length>0?n("CandidatesList",{attrs:{candidates:t.filteredCandidates}}):t._e()],1)],1)],1)],1)},a=[],s=(n(2707),n(1249),n(7941),n(7327),n(1539),n(3948),n(7257)),r=n(4748),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Candidates list")]),n("b-row",{staticClass:"mt-2"},[n("b-col",t._l(t.candidatesByEntityListType,(function(e){return n("b-card",{key:e.key,staticClass:"mt-2",attrs:{header:e.name}},t._l(e.values,(function(e){return n("b-card",{key:e.key,staticClass:"mt-2",style:{"border-color":e.color,"border-width":"3px"},attrs:{"header-tag":"header"}},[n("div",{attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"dot mr-1",style:{"background-color":e.color}}),t._v(" "+t._s(e.key)+" ")]),n("b-card-group",{attrs:{deck:""}},t._l(e.values,(function(e){return n("b-card",{key:e.key,attrs:{header:e.key}},t._l(e.values,(function(e){return n("div",{key:e.key,staticClass:"mb-1"},[n("CheckboxVoting",{attrs:{width:24,height:24}}),t._v(" "+t._s(e.value.nr)+" "+t._s(e.value.name)+" ")],1)})),0)})),1)],1)})),1)})),1)],1)],1)},c=[],u=(n(2222),n(8309),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{width:t.width,height:t.height}},[n("g",[n("rect",{attrs:{height:t.height,width:t.width}})]),n("g",{attrs:{transform:"translate("+t.width/2+","+t.height/2+")"}},[n("circle",{staticClass:"cbox",class:{clicked:t.clicked},attrs:{cx:"0",cy:"0",r:.3*t.width},on:{click:function(e){e.preventDefault(),t.clicked=!t.clicked},keydown:function(e){e.preventDefault(),t.clicked=!t.clicked}}})])])}),d=[],o=(n(9653),{props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},data:function(){return{clicked:!1}}}),p=o,h=n(1001),f=(0,h.Z)(p,u,d,!1,null,"98f9c7c4",null),y=f.exports,v={props:{candidates:{type:Array,required:!0}},data:function(){return{types:{E:"Effective",S:"Deputy (suppl√©ant)"}}},computed:{candidatesByEntityListType:function(){var t=this;return s.Z.nest().key((function(t){return t.value.list.entity.id})).entries(this.candidates).map((function(e){return{key:e.key,name:e.values[0].value.list.entity.name_en,values:s.Z.nest().key((function(t){return"".concat(t.value.list.nr," ").concat(t.value.list.name)})).entries(e.values).map((function(e){return{key:e.key,color:"#".concat(e.values[0].value.list.group.color),values:s.Z.nest().key((function(e){return t.types[e.value.type]})).entries(e.values)}}))}}))}},components:{CheckboxVoting:y}},b=v,k=(0,h.Z)(b,l,c,!1,null,null,null),m=k.exports,g={data:function(){return{electathonService:r.Z,selected:"CK",selectedEntity:2224,options:r.Z.types,candidatesObj:null}},created:function(){this.getCandidates()},computed:{candidates:function(){var t=this;return this.candidatesObj?Object.keys(this.candidatesObj).map((function(e){return{key:e,value:t.candidatesObj[e]}})).sort((function(t,e){return t.value.type.localeCompare(e.value.type)})).sort((function(t,e){return t.value.list.nr-e.value.list.nr})).sort((function(t,e){return t.value.list.entity.id-e.value.list.entity.id})):[]},filteredCandidates:function(){var t=this;return this.candidates.filter((function(e){return e.value.list.entity.id===t.selectedEntity}))},entities:function(){return s.Z.nest().key((function(t){return t.value.list.entity.id})).rollup((function(t){return t[0].value.list.entity.name_en})).entries(this.candidates)},entitiesOptions:function(){return this.entities.map((function(t){return{value:+t.key,text:t.value}}))}},methods:{getCandidates:function(){var t=this;this.electathonService.getCandidates(this.selected).then((function(e){t.candidatesObj=e}))}},components:{CandidatesList:m}},C=g,_=(0,h.Z)(C,i,a,!1,null,null,null),w=_.exports}}]);
//# sourceMappingURL=candidates-legacy.94f41a41.js.map