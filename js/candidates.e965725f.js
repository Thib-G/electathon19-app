"use strict";(self["webpackChunkelectathon19_app"]=self["webpackChunkelectathon19_app"]||[]).push([[26],{7592:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",[e._v("Candidates")]),s("b-card",[s("b-row",[s("b-col",{attrs:{md:"6",sm:"12"}},[s("b-form-group",{attrs:{id:"input-group-1",label:"Select election type:","label-for":"input-1"}},[s("b-form-select",{attrs:{id:"input-1",options:e.options,required:"",placeholder:"Select type"},on:{change:e.getCandidates},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1),s("b-col",{attrs:{md:"6",sm:"12"}},[s("b-form-group",{attrs:{id:"input-group-2",label:"Select entity:","label-for":"input-2"}},[s("b-form-select",{attrs:{id:"input-1",options:e.entitiesOptions,required:"",placeholder:"Select entity",disabled:0===e.entitiesOptions.length},model:{value:e.selectedEntity,callback:function(t){e.selectedEntity=t},expression:"selectedEntity"}})],1)],1)],1),s("b-row",{staticClass:"mt-2"},[s("b-col",[e.filteredCandidates.length>0?s("CandidatesList",{attrs:{candidates:e.filteredCandidates}}):e._e()],1)],1)],1)],1)},i=[],n=s(6443),l=s(4748),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",[e._v("Candidates list")]),s("b-row",{staticClass:"mt-2"},[s("b-col",e._l(e.candidatesByEntityListType,(function(t){return s("b-card",{key:t.key,staticClass:"mt-2",attrs:{header:t.name}},e._l(t.values,(function(t){return s("b-card",{key:t.key,staticClass:"mt-2",style:{"border-color":t.color,"border-width":"3px"},attrs:{"header-tag":"header"}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"dot mr-1",style:{"background-color":t.color}}),e._v(" "+e._s(t.key)+" ")]),s("b-card-group",{attrs:{deck:""}},e._l(t.values,(function(t){return s("b-card",{key:t.key,attrs:{header:t.key}},e._l(t.values,(function(t){return s("div",{key:t.key,staticClass:"mb-1"},[s("CheckboxVoting",{attrs:{width:24,height:24}}),e._v(" "+e._s(t.value.nr)+" "+e._s(t.value.name)+" ")],1)})),0)})),1)],1)})),1)})),1)],1)],1)},d=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{attrs:{width:e.width,height:e.height}},[s("g",[s("rect",{attrs:{height:e.height,width:e.width}})]),s("g",{attrs:{transform:"translate("+e.width/2+","+e.height/2+")"}},[s("circle",{staticClass:"cbox",class:{clicked:e.clicked},attrs:{cx:"0",cy:"0",r:.3*e.width},on:{click:function(t){t.preventDefault(),e.clicked=!e.clicked},keydown:function(t){t.preventDefault(),e.clicked=!e.clicked}}})])])},u=[],o={props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},data(){return{clicked:!1}}},p=o,h=s(1001),y=(0,h.Z)(p,c,u,!1,null,"98f9c7c4",null),v=y.exports,b={props:{candidates:{type:Array,required:!0}},data(){return{types:{E:"Effective",S:"Deputy (supplÃ©ant)"}}},computed:{candidatesByEntityListType(){return n.Z.nest().key((e=>e.value.list.entity.id)).entries(this.candidates).map((e=>({key:e.key,name:e.values[0].value.list.entity.name_en,values:n.Z.nest().key((e=>`${e.value.list.nr} ${e.value.list.name}`)).entries(e.values).map((e=>({key:e.key,color:`#${e.values[0].value.list.group.color}`,values:n.Z.nest().key((e=>this.types[e.value.type])).entries(e.values)})))})))}},components:{CheckboxVoting:v}},k=b,m=(0,h.Z)(k,r,d,!1,null,null,null),f=m.exports,g={data(){return{electathonService:l.Z,selected:"CK",selectedEntity:2224,options:l.Z.types,candidatesObj:null}},created(){this.getCandidates()},computed:{candidates(){return this.candidatesObj?Object.keys(this.candidatesObj).map((e=>({key:e,value:this.candidatesObj[e]}))).sort(((e,t)=>e.value.type.localeCompare(t.value.type))).sort(((e,t)=>e.value.list.nr-t.value.list.nr)).sort(((e,t)=>e.value.list.entity.id-t.value.list.entity.id)):[]},filteredCandidates(){return this.candidates.filter((e=>e.value.list.entity.id===this.selectedEntity))},entities(){return n.Z.nest().key((e=>e.value.list.entity.id)).rollup((e=>e[0].value.list.entity.name_en)).entries(this.candidates)},entitiesOptions(){return this.entities.map((e=>({value:+e.key,text:e.value})))}},methods:{getCandidates(){this.electathonService.getCandidates(this.selected).then((e=>{this.candidatesObj=e}))}},components:{CandidatesList:f}},C=g,_=(0,h.Z)(C,a,i,!1,null,null,null),w=_.exports}}]);
//# sourceMappingURL=candidates.e965725f.js.map