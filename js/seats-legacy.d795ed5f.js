(self["webpackChunkelectathon19_app"]=self["webpackChunkelectathon19_app"]||[]).push([[345],{6850:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return b}});var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Results "),t.isTest?n("span",[t._v("(TEST)")]):t._e()]),n("b-card",[n("b-row",[n("b-col",{attrs:{md:"6",sm:"12"}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Select election type:","label-for":"input-1"}},[n("b-form-select",{attrs:{id:"input-1",options:t.options,required:"",placeholder:"Select type"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),n("b-col",{staticClass:"d-flex align-items-center justify-content-between",attrs:{md:"6",sm:"12"}},[t.loading?n("span",[t._v(" Loading... ")]):n("span",[t.seatsObj?n("span",[n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.getSeats.apply(null,arguments)},keydown:function(e){return e.preventDefault(),t.getSeats.apply(null,arguments)}}},[n("img",{staticClass:"mr-1",attrs:{alt:"Refresh",src:s(9525),width:"15",height:"15"}}),t._v("Refresh ")])]):t._e()])])],1),n("b-row",[n("b-col",[n("b-card",{staticClass:"mb-2",attrs:{header:t.selectedText,"no-body":""}},[n("b-card-body",[n("b-card",{staticClass:"mb-2 text-center"},[n("HalfDonutComponent",{attrs:{seats:t.seats}})],1)],1),n("b-list-group",{attrs:{flush:""}},t._l(t.seats,(function(e){return n("b-list-group-item",{key:e.key},[n("b-row",[n("b-col",{staticClass:"d-flex align-items-center justify-content-between",attrs:{md:"6","offset-md":"3"}},[n("span",[n("svg",{attrs:{width:2+5*e.value.seats,height:"12"}},[n("rect",{style:{fill:"#"+e.value.group.color},attrs:{x:"0",y:"0",width:2+5*e.value.seats,height:"12"}})]),n("br"),t._v(t._s(e.value.group.name)+": "),n("b",[t._v(t._s(e.value.seats))]),e.value.seats>1?n("span",[t._v(" seats")]):n("span",[t._v(" seat")])]),n("span",{staticClass:"small text-right"},[t._v(" F: "),n("b",[t._v(t._s(e.value.women))]),n("br"),t._v("M: "),n("b",[t._v(t._s(e.value.men))])])])],1)],1)})),1)],1)],1)],1)],1)],1)},a=[],r=(s(9826),s(1539),s(2707),s(1249),s(7327),s(7941),s(3161),s(9653),s(4748)),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{staticClass:"svg-content",attrs:{viewBox:"0 0 "+t.w+" "+t.h,preserveAspectRatio:"xMinYMin meet"}},[s("g",{ref:"donut",staticClass:"donut",attrs:{transform:"translate("+t.w/2+","+t.h+")"}}),s("g",{ref:"text",staticClass:"text",attrs:{transform:"translate("+t.w/2+", "+.9*t.h+")"}},[s("text",[t._v(t._s(t.text))])])])},o=[],u=(s(9600),s(2222),s(8309),s(7257)),l={props:{seats:{type:Array,required:!0}},data:function(){return{w:400,h:200,text:""}},mounted:function(){this.render()},watch:{seats:function(){this.render()}},computed:{pie:function(){return u.Z.pie().padAngle(.01).sort(null).startAngle(-Math.PI/2).endAngle(Math.PI/2).value((function(t){return t.value.seats}))},arc:function(){var t=Math.min(this.w,this.h);return u.Z.arc().innerRadius(.67*t).outerRadius(t-1)},arcs:function(){return this.pie(this.seats.filter((function(t){return t.value.seats>0})))}},methods:{render:function(){var t=this,e=u.Z.select(this.$refs.donut);e.selectAll("path.arc").data(this.arcs).join("path").attr("class","arc").attr("fill",(function(t){return"#".concat(t.data.value.group.color)})).attr("d",this.arc).on("mouseover",(function(e,s){t.text="".concat(s.data.value.group.name,": ").concat(s.data.value.seats," seat").concat(s.data.value.seats>1?"s":"")})).on("mouseout",(function(){t.text=""}))}}},c=l,f=s(1001),h=(0,f.Z)(c,i,o,!1,null,"5fb687f6",null),d=h.exports,p={data:function(){return{electathonService:r.Z,options:r.Z.types,seatsObj:null,isTest:!1,loading:!1}},mounted:function(){this.getSeats()},watch:{selected:function(){this.getSeats()}},computed:{selected:{get:function(){return this.$route.params.id},set:function(t){this.$router.push("/seats/".concat(t))}},selectedText:function(){var t=this;return this.options.find((function(e){return e.value===t.selected})).text},seats:function(){var t=this;return this.seatsObj?Object.keys(this.seatsObj).filter((function(t){return Number.isInteger(+t)&&""!==t})).map((function(e){return{key:e,value:t.seatsObj[e]}})).sort((function(t,e){return e.value.seats-t.value.seats})):[]}},methods:{getSeats:function(){var t=this;this.selected&&(this.loading=!0,this.electathonService.getSeats(this.selected).then((function(e){t.seatsObj=e,t.loading=!1})))}},components:{HalfDonutComponent:d}},v=p,m=(0,f.Z)(v,n,a,!1,null,null,null),b=m.exports},5988:function(t,e,s){var n=s(111),a=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&a(t)===t}},3161:function(t,e,s){var n=s(2109),a=s(5988);n({target:"Number",stat:!0},{isInteger:a})},9525:function(t,e,s){"use strict";t.exports=s.p+"img/refresh.ab60f158.svg"}}]);
//# sourceMappingURL=seats-legacy.d795ed5f.js.map